# モード設計 / 識別 / 同意フロー

## 入力UX（決定）

- デフォルトは待機（反応しない）
- Push-to-talk（ボタン押下中だけ認識開始）

## モード（決定）

### `ROOM`（デフォルト）
- 全体向けの雑談モード
- 個人紐付けの記憶保存はしない
- 会話コンテキストは短期のみ（一定時間で破棄）

### `PERSONAL(name)`（音声で名乗って開始 / MVP）
- 子どもが Push-to-talk で `「パーソナル、<name>」` と言ったら、その子のパーソナル会話モードに入る
- `name`（呼び名）はユニーク運用（同名が出たら別の呼び名にしてもらう）
- 無操作 `3分` で自動的に `ROOM` に戻る
- タイムアウトを“明示アナウンスしない”（自然に `ROOM` に戻る）
- 明示終了: `「ルーム」` 発話 / 職員UIの「ROOMへ戻す」

### `PERSONAL(child)`（NFCで開始 / 将来）
- 子どもがNFCをタッチしたら、その子のパーソナル会話モードに入る
- MVPの `PERSONAL(name)` を置き換える

## 記憶保存の同意（決定）

- パーソナル中に「覚えていい？」の形で確認を取る
- 子どもが「いいえ」なら保存しない（候補は破棄し、職員UIにも載せない）
- 子どもが「はい」なら職員UIに確認依頼（`pending`）を積み、**職員の Confirm が来た時だけ**DBへ保存（`confirmed`）する
- 記憶対象は低センシティブのホワイトリストに限定する

### 補助UI（推奨）

- 「はい/いいえ」は画面ボタンでも入力できるようにする（STT誤認対策）

## 想起（思い出し）のルール（決定）

- 原則 `PERSONAL(...)` の間だけ行う
- 内容は低センシティブのみ（好きなこと/食べ物/遊び/ハマり など）
- `confirmed` のみ参照する

## 補足（MVPの割り切り）

- 話者の“本人確認”はしない（なりすまし対策は「同名禁止（ニックネーム）」と「記憶の最終確定を職員が行う」で守る）
- B（NFC導入）では `PERSONAL(child)` の開始・確認フローを差し替える
